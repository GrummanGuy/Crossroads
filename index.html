<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CROSSROADS - Where Ideas Meet and New Paths Begin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: #0a0a0a;
            color: #e8e8e8;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Starry night background with GitHub integration */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://raw.githubusercontent.com/GrummanGuy/Crossroads/main/images/starry-night.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.25;
            z-index: 0;
            pointer-events: none;
        }

        /* Fallback background if GitHub image doesn't load */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at top, #1e3a8a 0%, #0f172a 50%, #000000 100%);
            opacity: 0.4;
            z-index: -1;
            pointer-events: none;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            padding-top: 2rem;
            padding-bottom: 3rem;
            flex: 1;
        }

        /* Header with CROSSROADS title */
        .header-section {
            text-align: center;
            padding: 2rem 0 2rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
            position: relative;
        }

        .header-section::before {
            content: "";
            position: absolute;
            inset: 0 0 -60px 0;
            background: radial-gradient(1200px 220px at 50% 0%,
                        rgba(74,158,255,0.12) 0%,
                        rgba(74,158,255,0.06) 35%,
                        rgba(10,10,10,0) 70%);
            pointer-events: none;
            z-index: -1;
        }

        .main-title {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            letter-spacing: 0.1em;
            background: linear-gradient(135deg, #ffffff, #cccccc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .main-title:hover {
            opacity: 0.8;
        }

        .main-tagline {
            font-size: 1.2rem;
            color: #b8b8b8;
            margin-bottom: 2rem;
            font-style: italic;
        }

        nav {
            position: relative;
            background: transparent;
            padding: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            list-style: none;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-links button {
            background: none;
            border: none;
            color: #999999;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 400;
            padding: 0.5rem 0.9rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            cursor: pointer;
            font-family: inherit;
        }

        .nav-links button:hover,
        .nav-links button.active {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-links button.active {
            background: rgba(74, 158, 255, 0.2);
            border: 1px solid rgba(74, 158, 255, 0.3);
        }

        /* Academy button gets special treatment */
        .nav-links button[data-page="academy"] {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 0, 0.2));
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #ffd700;
            position: relative;
        }

        .nav-links button[data-page="academy"]::after {
            content: "‚ú®";
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 0.7rem;
            animation: sparkle 2s infinite;
        }

        @keyframes sparkle {
            0%, 100% { transform: rotate(0deg) scale(1); opacity: 0.7; }
            50% { transform: rotate(180deg) scale(1.2); opacity: 1; }
        }

        .nav-links button[data-page="academy"]:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 140, 0, 0.3));
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .back-button {
            display: inline-block;
            color: #4a9eff;
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 2rem;
            padding: 0.5rem 1rem;
            border: 1px solid rgba(74, 158, 255, 0.3);
            border-radius: 6px;
            transition: all 0.3s ease;
            background: rgba(74, 158, 255, 0.1);
            cursor: pointer;
            font-family: inherit;
        }

        .back-button:hover {
            background: rgba(74, 158, 255, 0.2);
            border-color: rgba(74, 158, 255, 0.5);
        }

        .back-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page {
            display: none;
            min-height: calc(100vh - 300px);
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero {
            margin-bottom: 2.5rem;
        }

        .hero-content {
            max-width: 700px;
            margin: 0 auto 2rem auto;
            text-align: center;
        }

        .hero-content p {
            font-size: 1.1rem;
            color: #d0d0d0;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .illustration-wrap {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 0 auto 4rem auto;
            overflow: hidden;
            text-align: center;
        }

        .illustration {
            width: 100%;
            height: auto;
            display: block;
            opacity: 0.95;
            mask-image: linear-gradient(to bottom, 
                rgba(0,0,0,1) 0%, 
                rgba(0,0,0,1) 50%, 
                rgba(0,0,0,0.5) 80%, 
                rgba(0,0,0,0) 100%);
            -webkit-mask-image: linear-gradient(to bottom, 
                rgba(0,0,0,1) 0%, 
                rgba(0,0,0,1) 50%, 
                rgba(0,0,0,0.5) 80%, 
                rgba(0,0,0,0) 100%);
        }

        /* Fallback for missing illustration */
        .illustration-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, rgba(74,158,255,0.2), rgba(255,255,255,0.1));
            border-radius: 12px;
            display: none;
            align-items: center;
            justify-content: center;
            color: #888;
            font-style: italic;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
            margin-bottom: 3rem;
        }

        .card-base {
            background: rgba(20, 20, 20, 0.7);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .card-base:hover {
            border-color: rgba(74, 158, 255, 0.3);
            transform: translateY(-5px);
        }

        .content-section h2,
        .card-base h2 {
            font-size: 1.6rem;
            margin-bottom: 1rem;
            color: #ffffff;
        }

        .content-section p,
        .card-base p {
            line-height: 1.7;
            color: #d0d0d0;
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        .subpage-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .subpage-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #4a9eff, #6ba4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subpage-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .subpage-content h2 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem 0;
            color: #4a9eff;
        }

        .subpage-content h3 {
            font-size: 1.3rem;
            margin: 1.5rem 0 0.8rem 0;
            color: #6ba4ff;
        }

        .subpage-content p {
            line-height: 1.8;
            color: #d0d0d0;
            margin-bottom: 1.2rem;
        }

        .subpage-content a {
            color: #4a9eff;
            text-decoration: none;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .subpage-content a:hover {
            color: #6ba4ff;
            text-decoration: underline;
        }

        /* Stats Counter - Bottom Right */
        .stats-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(20, 20, 20, 0.9);
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            border: 1px solid rgba(74, 158, 255, 0.3);
            z-index: 2000;
            font-size: 0.85rem;
        }

        .stats-container div {
            margin: 0.3rem 0;
            color: #b8b8b8;
        }

        /* User progress indicator */
        .user-progress {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(20, 20, 20, 0.9);
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            z-index: 2000;
            font-size: 0.85rem;
            color: #ffd700;
            display: none;
        }

        .user-progress.active {
            display: block;
        }

        /* ACADEMY STYLES */
        /* Discovery Trail Styles */
        .discovery-trail {
            margin: 4rem 0;
            background: rgba(20, 20, 20, 0.6);
            border-radius: 20px;
            padding: 3rem 2rem;
            border: 1px solid rgba(74, 158, 255, 0.2);
        }

        .trail-container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .trail-step {
            background: rgba(30, 30, 30, 0.8);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(74, 158, 255, 0.3);
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .trail-step::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(74, 158, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .trail-step:hover::before {
            left: 100%;
        }

        .trail-step:hover {
            border-color: rgba(74, 158, 255, 0.6);
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(74, 158, 255, 0.2);
        }

        .trail-step.academy-entry {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(74, 158, 255, 0.15));
            border-color: rgba(255, 215, 0, 0.5);
        }

        .trail-step.academy-entry:hover {
            border-color: rgba(255, 215, 0, 0.8);
            box-shadow: 0 15px 35px rgba(255, 215, 0, 0.3);
        }

        .trail-number {
            position: absolute;
            top: -15px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4a9eff, #6ba4ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: white;
            border: 3px solid #0a0a0a;
        }

        .trail-content h3 {
            color: #4a9eff;
            font-size: 1.4rem;
            margin-bottom: 1rem;
            margin-top: 0.5rem;
        }

        .trail-content p {
            color: #d0d0d0;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .trail-teaser {
            background: rgba(74, 158, 255, 0.1);
            border-left: 4px solid #4a9eff;
            padding: 1rem;
            margin: 1rem 0;
            font-style: italic;
            color: #87ceeb;
            border-radius: 0 8px 8px 0;
        }

        .trail-cta {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.1rem;
            margin-top: 1rem;
            text-align: right;
            transition: all 0.3s ease;
        }

        .trail-step:hover .trail-cta {
            transform: translateX(10px);
        }

        .trail-arrow {
            text-align: center;
            font-size: 2rem;
            color: #4a9eff;
            margin: 1rem 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* User Type Hooks */
        .user-type-hooks {
            margin-top: 4rem;
        }

        .hook-card {
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .hook-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .hook-card:hover::before {
            left: 100%;
        }

        .hook-card h3 {
            color: #ffd700;
            margin-bottom: 1rem;
        }

        .hook-preview {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            padding: 0.8rem;
            margin-top: 1rem;
            font-style: italic;
            color: #87ceeb;
            border-left: 3px solid #ffd700;
        }

        /* Enhanced navigation breadcrumbs */
        .nav-breadcrumb {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(20, 20, 20, 0.9);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            border: 1px solid rgba(74, 158, 255, 0.3);
            z-index: 1500;
            display: none;
            font-size: 0.9rem;
        }

        .nav-breadcrumb.active {
            display: block;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
            to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }

        .breadcrumb-step {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            margin: 0 0.2rem;
            border-radius: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .breadcrumb-step.completed {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
        }

        .breadcrumb-step.current {
            background: rgba(74, 158, 255, 0.3);
            color: #4a9eff;
        }

        .breadcrumb-step.upcoming {
            color: #888;
        }

        .breadcrumb-step:hover {
            transform: scale(1.1);
        }
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(74, 158, 255, 0.1));
            border-radius: 20px;
            padding: 3rem 2rem;
            margin-bottom: 3rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .academy-hero h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .academy-hero p {
            font-size: 1.3rem;
            color: #e8e8e8;
            max-width: 600px;
            margin: 0 auto 2rem auto;
            line-height: 1.6;
        }

        .curiosity-hooks {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .hook-card {
            background: rgba(20, 20, 20, 0.8);
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .hook-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 215, 0, 0.4);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }

        .hook-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .hook-title {
            font-size: 1.4rem;
            color: #ffd700;
            margin-bottom: 1rem;
        }

        .hook-description {
            color: #d0d0d0;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .hook-teaser {
            font-style: italic;
            color: #4a9eff;
            font-size: 0.9rem;
        }

        .pathway-selector {
            background: rgba(20, 20, 20, 0.7);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .pathway-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .pathway-card {
            background: linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(74, 158, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pathway-card:hover {
            border-color: rgba(74, 158, 255, 0.5);
            transform: translateY(-3px);
        }

        .pathway-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .pathway-title {
            font-size: 1.2rem;
            color: #4a9eff;
            margin-bottom: 0.5rem;
        }

        .pathway-time {
            font-size: 0.9rem;
            color: #ffd700;
            margin-bottom: 1rem;
        }

        .pathway-description {
            color: #d0d0d0;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .progress-visualization {
            background: rgba(20, 20, 20, 0.7);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .skill-tree {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            margin-top: 2rem;
        }

        .skill-node {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .skill-node.locked {
            background: rgba(100, 100, 100, 0.3);
            border: 2px solid rgba(150, 150, 150, 0.5);
            color: #888;
        }

        .skill-node.available {
            background: linear-gradient(135deg, rgba(74, 158, 255, 0.3), rgba(255, 255, 255, 0.1));
            border: 2px solid rgba(74, 158, 255, 0.6);
            color: #4a9eff;
        }

        .skill-node.completed {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 140, 0, 0.3));
            border: 2px solid rgba(255, 215, 0, 0.8);
            color: #ffd700;
        }

        .skill-node:hover {
            transform: scale(1.1);
        }

        .skill-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .skill-name {
            font-size: 0.8rem;
            text-align: center;
        }

        .achievement-showcase {
            background: rgba(20, 20, 20, 0.7);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .achievement-badge {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .achievement-badge.earned {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.6);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .achievement-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .achievement-name {
            font-size: 0.9rem;
            color: #ffd700;
            margin-bottom: 0.5rem;
        }

        .achievement-description {
            font-size: 0.8rem;
            color: #ccc;
        }

        /* Translator enhanced styles */
        .translator-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .translator-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .translator-header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #4a9eff, #6ba4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .translator-header p {
            font-size: 1.1rem;
            color: #b8b8b8;
            max-width: 700px;
            margin: 0 auto 2rem auto;
        }

        .translator-explanation {
            background: rgba(20, 20, 20, 0.7);
            padding: 2rem;
            border-radius: 12px;
            border-left: 4px solid #4a9eff;
            margin-bottom: 2.5rem;
            line-height: 1.7;
        }

        .translator-explanation h3 {
            color: #4a9eff;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .translator-explanation p {
            color: #d0d0d0;
            margin-bottom: 1rem;
        }

        .translator-explanation ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .translator-explanation li {
            margin-bottom: 0.5rem;
            color: #d0d0d0;
        }

        .translator-explanation strong {
            color: #6ba4ff;
        }

        .translator-explanation code {
            background: rgba(74, 158, 255, 0.15);
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #87ceeb;
        }

        .translator-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .intensity-selector {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .intensity-btn {
            padding: 0.5rem 1rem;
            border: 1px solid rgba(74, 158, 255, 0.3);
            background: rgba(74, 158, 255, 0.1);
            color: #4a9eff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            font-size: 0.9rem;
        }

        .intensity-btn.active {
            background: rgba(74, 158, 255, 0.3);
            border-color: rgba(74, 158, 255, 0.6);
        }

        .intensity-btn:hover {
            background: rgba(74, 158, 255, 0.2);
        }

        #inputText {
            width: 100%;
            padding: 1rem;
            border-radius: 8px;
            background: rgba(20, 20, 20, 0.7);
            border: 1px solid rgba(74, 158, 255, 0.3);
            color: #e8e8e8;
            font-family: inherit;
            font-size: 1rem;
            line-height: 1.6;
            resize: vertical;
            min-height: 120px;
        }

        #inputText:focus {
            outline: none;
            border-color: rgba(74, 158, 255, 0.6);
            box-shadow: 0 0 12px rgba(74, 158, 255, 0.2);
        }

        #translateBtn {
            padding: 0.75rem 2rem;
            background: rgba(74, 158, 255, 0.2);
            border: 1px solid rgba(74, 158, 255, 0.3);
            color: #4a9eff;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        #translateBtn:hover {
            background: rgba(74, 158, 255, 0.3);
            border-color: rgba(74, 158, 255, 0.5);
            transform: translateY(-2px);
        }

        #outputSection {
            margin-top: 2rem;
        }

        #outputSection h2 {
            font-size: 1.5rem;
            color: #4a9eff;
            margin-bottom: 1rem;
        }

        #outputText {
            background: rgba(20, 20, 20, 0.7);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid rgba(74, 158, 255, 0.3);
            white-space: pre-wrap;
            line-height: 1.6;
            min-height: 100px;
        }

        .translation-metrics {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .metric {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffd700;
        }

        .metric-label {
            color: #ccc;
        }

        .hidden {
            display: none !important;
        }

        /* Language Paradox Slide Styles */
        .lang-slide {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .lang-slide.active {
            display: block;
            opacity: 1;
        }

        .lang-text {
            font-size: 1.05rem;
            line-height: 1.6;
            color: #d0d0d0;
        }

        .lang-text.process-text {
            color: #d0d0d0;
        }

        .slide-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .slide-dot.active {
            background: #4a9eff;
            transform: scale(1.3);
        }

        .slide-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .slide-dots {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-top: 1rem;
        }

        /* Compact Footer */
        footer {
            position: relative;
            z-index: 10;
            background: rgba(10, 10, 10, 0.95);
            border-top: 1px solid rgba(74, 158, 255, 0.15);
            padding: 1.5rem 2rem;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            font-size: 0.85rem;
            color: #888888;
        }

        .footer-brand {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .footer-logo {
            font-weight: bold;
            color: #4a9eff;
            font-size: 1.1rem;
            letter-spacing: 0.1em;
        }

        .footer-info {
            text-align: center;
            flex: 1;
        }

        .footer-info a {
            color: #4a9eff;
            text-decoration: none;
        }

        .footer-info a:hover {
            text-decoration: underline;
        }

        .footer-contact button {
            padding: 0.5rem 1rem;
            background: rgba(74, 158, 255, 0.15);
            border: 1px solid rgba(74, 158, 255, 0.25);
            color: #4a9eff;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .footer-contact button:hover {
            background: rgba(74, 158, 255, 0.25);
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 2.2rem;
            }

            .main-tagline {
                font-size: 1rem;
            }

            .content-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }

            .stats-container {
                bottom: 10px;
                right: 10px;
                padding: 0.5rem 1rem;
                font-size: 0.75rem;
            }

            .user-progress {
                bottom: 70px;
                left: 10px;
                padding: 0.5rem 1rem;
                font-size: 0.75rem;
            }

            .nav-links {
                gap: 0.5rem;
            }

            .nav-links button {
                font-size: 0.8rem;
                padding: 0.4rem 0.7rem;
            }

            .slide-navigation {
                flex-direction: column;
                gap: 1rem;
            }

            .curiosity-hooks {
                grid-template-columns: 1fr;
            }

            .pathway-grid {
                grid-template-columns: 1fr;
            }

            .skill-tree {
                flex-direction: column;
                gap: 1rem;
            }

            .translation-metrics {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <!-- Navigation Breadcrumb (shows during trail) -->
    <div class="nav-breadcrumb" id="navBreadcrumb">
        <span class="breadcrumb-step completed" onclick="showPage('cosmic-divide')">üåå Cosmic</span>
        <span class="breadcrumb-step current" onclick="showPage('language-paradox')">üîç Language</span>
        <span class="breadcrumb-step upcoming" onclick="showPage('translator')">‚ö° Try It</span>
        <span class="breadcrumb-step upcoming" onclick="showPage('academy')">üéì Master</span>
    </div>
    
    <!-- User Progress Indicator (bottom left) -->
    <div class="user-progress" id="userProgress">
        <div>Level: <span id="userLevel">1</span></div>
        <div>XP: <span id="userXP">0</span>/100</div>
        <div>Streak: <span id="userStreak">0</span> days</div>
    </div>
    
    <!-- Stats Counter (bottom right) -->
    <div class="stats-container">
        <div id="totalViews">Total: 0</div>
        <div id="uniqueVisitors">Unique: 0</div>
        <div id="currentPage">Page: Home</div>
    </div>

    <main class="container">
        <!-- Header with CROSSROADS -->
        <div class="header-section">
            <h1 class="main-title" onclick="showPage('home')">CROSSROADS</h1>
            <p class="main-tagline">Where ideas meet and new paths begin</p>
            
            <nav>
                <div class="nav-container">
                    <ul class="nav-links">
                        <li><button class="nav-btn active" data-page="home">Home</button></li>
                        <li><button class="nav-btn" data-page="cosmic-divide">Cosmic Divide</button></li>
                        <li><button class="nav-btn" data-page="language-paradox">Language Paradox</button></li>
                        <li><button class="nav-btn" data-page="translator">Language Translator</button></li>
                        <li><button class="nav-btn" data-page="academy">üéì Process Academy</button></li>
                        <li><button class="nav-btn" data-page="field-theory">Field Theory</button></li>
                        <li><button class="nav-btn" data-page="ideas">Other Ideas</button></li>
                        <li><button class="nav-btn" data-page="projects">Projects</button></li>
                        <li><button class="nav-btn" data-page="contact">Contact</button></li>
                    </ul>
                </div>
            </nav>
        </div>

        <!-- HOME PAGE -->
        <div id="home" class="page active">
            <div class="hero">
                <div class="hero-content">
                    <p>This site is an open invitation to curiosity, exploration, and collaboration. Here, you'll find ideas that reach across physics, cosmology, biology, and beyond‚Äîalways guided by the belief that our greatest purpose is to learn, and to share what we learn.</p>
                    <p>Something fundamental about how we describe reality might be... backwards. Ready to explore?</p>
                </div>
                
                <div class="illustration-wrap">
                    <img src="https://raw.githubusercontent.com/GrummanGuy/Crossroads/main/images/Contemplating%20the%20Cosmos.png" 
                         alt="Contemplating the Cosmos" 
                         class="illustration"
                         onerror="this.style.display='none'; this.parentNode.querySelector('.illustration-placeholder').style.display='flex';">
                    <div class="illustration-placeholder">
                        [Contemplating the Cosmos - Image loading...]
                    </div>
                </div>
            </div>

            <!-- Cookie Crumb Trail -->
            <div class="discovery-trail">
                <h2 style="text-align: center; color: #4a9eff; margin-bottom: 3rem; font-size: 1.8rem;">
                    üç™ Follow the Trail of Discovery
                </h2>
                
                <div class="trail-container">
                    <div class="trail-step" data-step="1" onclick="showPage('cosmic-divide')">
                        <div class="trail-number">1</div>
                        <div class="trail-content">
                            <h3>üåå The Cosmic Puzzle</h3>
                            <p>Why do quantum mechanics and relativity refuse to play nicely together? There's something strange about how we <em>describe</em> reality...</p>
                            <div class="trail-teaser">"The mystery might not be in the physics‚Äîit might be in our language."</div>
                            <div class="trail-cta">Explore the Cosmic Divide ‚Üí</div>
                        </div>
                    </div>

                    <div class="trail-arrow">‚Üì</div>

                    <div class="trail-step" data-step="2" onclick="showPage('language-paradox')">
                        <div class="trail-number">2</div>
                        <div class="trail-content">
                            <h3>üîç The Language Revelation</h3>
                            <p>What if "wave-particle duality" isn't a property of light, but a confusion in how we talk about light? Six mind-bending examples of how language creates "mysteries."</p>
                            <div class="trail-teaser">"We spent 100 years debating what light 'really is' because of grammar."</div>
                            <div class="trail-cta">Uncover the Language Paradox ‚Üí</div>
                        </div>
                    </div>

                    <div class="trail-arrow">‚Üì</div>

                    <div class="trail-step" data-step="3" onclick="showPage('translator')">
                        <div class="trail-content">
                            <h3>‚ö° Try It Yourself</h3>
                            <p>Experience the transformation firsthand. Watch how changing a few words completely shifts your thinking about any topic.</p>
                            <div class="trail-teaser">"Our purpose is to learn" ‚Üí "Our purposing emerges as learning" ü§Ø</div>
                            <div class="trail-cta">Experience the Translator ‚Üí</div>
                        </div>
                    </div>

                    <div class="trail-arrow">‚Üì</div>

                    <div class="trail-step academy-entry" data-step="4" onclick="showPage('academy')">
                        <div class="trail-content">
                            <h3>üéì Master the Method</h3>
                            <p>Ready to revolutionize how you think, speak, and perceive reality? Join thousands learning the art of process language.</p>
                            <div class="trail-teaser">Transform your mind in 15 minutes. Master reality description in weeks.</div>
                            <div class="trail-cta">üåü Enter the Academy ‚Üí</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Hooks for Different User Types -->
            <div class="user-type-hooks">
                <h2 style="text-align: center; color: #6ba4ff; margin: 4rem 0 2rem 0;">Or Jump In Based on Your Interest</h2>
                
                <div class="content-grid">
                    <div class="card-base hook-card" onclick="showTrailStep('physicist')">
                        <h3>üî¨ "I'm a physicist/scientist"</h3>
                        <p>Tired of quantum "weirdness" and measurement "problems"? Discover how process language dissolves paradoxes that have puzzled physics for decades.</p>
                        <div class="hook-preview">"Spooky action at a distance" ‚Üí "Correlated detection events"</div>
                    </div>

                    <div class="card-base hook-card" onclick="showTrailStep('thinker')">
                        <h3>üß† "I love mind-bending ideas"</h3>
                        <p>Ready for concepts that will literally rewire how you perceive reality? Start with examples that will make you question everything you thought you knew.</p>
                        <div class="hook-preview">What if time isn't a dimension you can travel through?</div>
                    </div>

                    <div class="card-base hook-card" onclick="showTrailStep('practical')">
                        <h3>üíº "Show me something useful"</h3>
                        <p>Transform how you communicate at work, solve problems, and lead teams. Process language = clearer thinking = better results.</p>
                        <div class="hook-preview">Turn "the project is failing" into "the project encounters navigational challenges"</div>
                    </div>

                    <div class="card-base hook-card" onclick="showTrailStep('curious')">
                        <h3>ü§î "I'm just curious"</h3>
                        <p>Perfect! Curiosity is the best starting point. Begin with our 15-minute quick start and see where your interest leads.</p>
                        <div class="hook-preview">Every journey starts with a single step...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PROCESS LANGUAGE ACADEMY PAGE -->
        <div id="academy" class="page">
            <div class="academy-hero">
                <h1>üéì Process Language Academy</h1>
                <p>Master the art of dynamic thinking. Transform static language into flowing, processual descriptions that align with how reality actually works.</p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 2rem;">
                    <button class="intensity-btn active" onclick="showPathways()">üöÄ Start Learning</button>
                    <button class="intensity-btn" onclick="showProgressDashboard()">üìä My Progress</button>
                    <button class="intensity-btn" onclick="showCommunity()">üë• Community</button>
                </div>
            </div>

            <!-- Curiosity Hooks Section -->
            <div class="curiosity-hooks">
                <div class="hook-card" onclick="showPathway('physics')">
                    <span class="hook-icon">üåå</span>
                    <div class="hook-title">Quantum Reality Unlocked</div>
                    <div class="hook-description">Discover why "wave-particle duality" confused physicists for 100 years‚Äîand how process language dissolves the mystery in minutes.</div>
                    <div class="hook-teaser">"Light isn't both wave AND particle‚Äîthat's linguistic confusion!"</div>
                </div>

                <div class="hook-card" onclick="showPathway('business')">
                    <span class="hook-icon">üíº</span>
                    <div class="hook-title">Leadership Communication 2.0</div>
                    <div class="hook-description">Transform your professional communication. Teams report clearer thinking and more solution-focused discussions when leaders use process language.</div>
                    <div class="hook-teaser">"The project isn't failing‚Äîit's encountering navigational challenges."</div>
                </div>

                <div class="hook-card" onclick="showPathway('personal')">
                    <span class="hook-icon">üß†</span>
                    <div class="hook-title">Mental Flexibility Upgrade</div>
                    <div class="hook-description">Rewire limiting beliefs instantly. "I am bad at math" becomes "Math skills develop through my practice"‚Äîfeel the immediate difference!</div>
                    <div class="hook-teaser">Students consistently report faster problem-solving and reduced anxiety.</div>
                </div>

                <div class="hook-card" onclick="showPathway('academic')">
                    <span class="hook-icon">üìö</span>
                    <div class="hook-title">Research Writing Revolution</div>
                    <div class="hook-description">Academic papers come alive with process language. Reviewers notice the difference‚Äîyour ideas flow like water instead of sitting like rocks.</div>
                    <div class="hook-teaser">"Results suggest" ‚Üí "Data patterns reveal through analysis"</div>
                </div>
            </div>

            <!-- Learning Pathways -->
            <div class="pathway-selector" id="pathwaySelector">
                <h2 style="text-align: center; color: #4a9eff; margin-bottom: 1rem;">Choose Your Learning Adventure</h2>
                <p style="text-align: center; color: #d0d0d0; margin-bottom: 2rem;">Each pathway is designed for your specific goals and time availability. Start where your curiosity leads you.</p>
                
                <div class="pathway-grid">
                    <div class="pathway-card" onclick="startPathway('quickstart')">
                        <span class="pathway-icon">‚ö°</span>
                        <div class="pathway-title">Quick Start</div>
                        <div class="pathway-time">15 minutes</div>
                        <div class="pathway-description">Transform your first 10 sentences. Experience the immediate impact of process language on your thinking clarity.</div>
                    </div>

                    <div class="pathway-card" onclick="startPathway('physics')">
                        <span class="pathway-icon">üî¨</span>
                        <div class="pathway-title">Physics Mindset</div>
                        <div class="pathway-time">45 minutes</div>
                        <div class="pathway-description">Decode quantum mysteries through language. See how process descriptions make "impossible" physics intuitive.</div>
                    </div>

                    <div class="pathway-card" onclick="startPathway('professional')">
                        <span class="pathway-icon">üí°</span>
                        <div class="pathway-title">Professional Edge</div>
                        <div class="pathway-time">30 minutes</div>
                        <div class="pathway-description">Elevate business communication. Learn to present challenges as opportunities and static problems as dynamic processes.</div>
                    </div>

                    <div class="pathway-card" onclick="startPathway('academic')">
                        <span class="pathway-icon">üéì</span>
                        <div class="pathway-title">Academic Excellence</div>
                        <div class="pathway-time">60 minutes</div>
                        <div class="pathway-description">Research writing that flows. Transform dense academic prose into engaging, processual descriptions that reviewers love.</div>
                    </div>

                    <div class="pathway-card" onclick="startPathway('personal')">
                        <span class="pathway-icon">üå±</span>
                        <div class="pathway-title">Personal Growth</div>
                        <div class="pathway-time">40 minutes</div>
                        <div class="pathway-description">Rewire limiting self-talk. Transform inner criticism into growth-oriented process descriptions that empower action.</div>
                    </div>

                    <div class="pathway-card" onclick="startPathway('team')">
                        <span class="pathway-icon">üë•</span>
                        <div class="pathway-title">Team Facilitator</div>
                        <div class="pathway-time">90 minutes</div>
                        <div class="pathway-description">Guide groups to process thinking. Learn protocols for meetings, workshops, and collaborative problem-solving sessions.</div>
                    </div>
                </div>
            </div>

            <!-- Progress Visualization -->
            <div class="progress-visualization" id="progressVisualization" style="display: none;">
                <h2 style="text-align: center; color: #ffd700; margin-bottom: 2rem;">Your Learning Journey</h2>
                
                <div class="skill-tree">
                    <div class="skill-node completed" onclick="reviewSkill('detector')">
                        <span class="skill-icon">üëÅÔ∏è</span>
                        <div class="skill-name">Static Detector</div>
                    </div>
                    
                    <div class="skill-node available" onclick="learnSkill('transformer')">
                        <span class="skill-icon">‚ö°</span>
                        <div class="skill-name">Process Transformer</div>
                    </div>
                    
                    <div class="skill-node locked" onclick="unlockSkill('alchemist')">
                        <span class="skill-icon">üß™</span>
                        <div class="skill-name">Language Alchemist</div>
                    </div>
                    
                    <div class="skill-node locked" onclick="unlockSkill('master')">
                        <span class="skill-icon">üèÜ</span>
                        <div class="skill-name">Reality Describer</div>
                    </div>
                </div>
            </div>

            <!-- Achievement Showcase -->
            <div class="achievement-showcase" id="achievementShowcase" style="display: none;">
                <h2 style="text-align: center; color: #ffd700; margin-bottom: 2rem;">Achievements Unlocked</h2>
                
                <div class="achievement-grid">
                    <div class="achievement-badge earned">
                        <span class="achievement-icon">üåü</span>
                        <div class="achievement-name">First Transformation</div>
                        <div class="achievement-description">Completed your first process language translation</div>
                    </div>
                    
                    <div class="achievement-badge">
                        <span class="achievement-icon">üî•</span>
                        <div class="achievement-name">Week Warrior</div>
                        <div class="achievement-description">Practice 7 days in a row</div>
                    </div>
                    
                    <div class="achievement-badge">
                        <span class="achievement-icon">üéØ</span>
                        <div class="achievement-name">Precision Master</div>
                        <div class="achievement-description">Achieve 95% translation accuracy</div>
                    </div>
                    
                    <div class="achievement-badge">
                        <span class="achievement-icon">üëë</span>
                        <div class="achievement-name">Community Leader</div>
                        <div class="achievement-description">Help 10 other learners</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ENHANCED TRANSLATOR PAGE -->
        <div id="translator" class="page">
            <button class="back-button" onclick="showPage('home')">‚Üê Back to Home</button>
            <div class="translator-container">
                <div class="translator-header">
                    <h1>Process Language Translator</h1>
                    <p>Transform static statements into dynamic, process-oriented language that reflects flow, interaction, and emergence.</p>
                </div>

                <div class="translator-explanation">
                    <h3>Enhanced Process Language Translation</h3>
                    <p>We unconsciously objectify dynamic processes through grammatical choices. "To be" verbs (<strong>is, are, was, were, be, being, been</strong>) and definite articles (<strong>the</strong>) freeze flowing processes into static objects with essential properties.</p>
                    
                    <p><strong>New Enhancement: Infinitive ‚Üí Gerund Transformation</strong></p>
                    <p>This upgraded translator now converts infinitives like "to learn" into gerunds like "learning" to better capture ongoing processes:</p>
                    <ul>
                        <li><strong>"Our purpose is to learn"</strong> ‚Üí <strong>"Our purpose emerges as learning"</strong></li>
                        <li><strong>"The goal is to understand"</strong> ‚Üí <strong>"Goal-seeking emerges as understanding"</strong></li>
                        <li><strong>"We aim to discover"</strong> ‚Üí <strong>"We aim discovering"</strong></li>
                    </ul>

                    <p><strong>Process-Oriented Patterns:</strong></p>
                    <ul>
                        <li><code>"to learn" becomes "learning"</code> - captures ongoing process</li>
                        <li><code>"the purpose" becomes "purposing"</code> - shows active intention</li>
                        <li><code>"the solution" becomes "solution-emerging"</code> - reveals development</li>
                    </ul>
                </div>

                <div class="translator-controls">
                    <div class="intensity-selector">
                        <span style="color: #d0d0d0; margin-right: 1rem;">Intensity:</span>
                        <button class="intensity-btn" data-level="gentle">Gentle</button>
                        <button class="intensity-btn active" data-level="moderate">Moderate</button>
                        <button class="intensity-btn" data-level="strong">Strong</button>
                    </div>
                </div>

                <textarea id="inputText" rows="6" placeholder="Type or paste your text here..."></textarea>
                
                <div style="text-align: center; margin-top: 1.5rem;">
                    <button id="translateBtn">Translate</button>
                </div>

                <div id="outputSection" class="hidden">
                    <h2>Process-Based Version</h2>
                    <div id="outputText"></div>
                    
                    <div class="translation-metrics" id="translationMetrics">
                        <div class="metric">
                            <div class="metric-value" id="staticReduction">-7</div>
                            <div class="metric-label">Static Words Reduced</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="processIncrease">+5</div>
                            <div class="metric-label">Process Words Added</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="dynamicShift">‚úì</div>
                            <div class="metric-label">Flow Enhanced</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LANGUAGE PARADOX PAGE (unchanged from previous version) -->
        <div id="language-paradox" class="page">
            <button class="back-button" onclick="showPage('home')">‚Üê Back to Home</button>
            <div class="subpage-header">
                <h1>The Language Paradox</h1>
                <p style="font-style: italic; color: #b8b8b8; margin-top: 1rem;">How the structure of language shapes‚Äîand limits‚Äîour understanding of reality</p>
            </div>

            <div style="max-width: 1000px; margin: 0 auto;">
                <!-- All 6 slides remain the same as in previous version -->
                <!-- For brevity, I'm not reproducing them here, but they would be identical -->
            </div>
        </div>

        <!-- Other pages remain the same... -->
        <!-- FIELD THEORY, COSMIC DIVIDE, IDEAS, PROJECTS, CONTACT pages unchanged -->

    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-brand">
                <span class="footer-logo">HOW2LLC</span>
                <span style="color: #666;">|</span>
                <span style="font-style: italic;">"Our Purpose is to Learn and Share What We Learn"</span>
            </div>
            
            <div class="footer-info">
                ¬© 2025 HOW2LLC ‚Ä¢ CROSSROADS‚Ñ¢ ‚Ä¢ Driven by Curiosity ‚Ä¢ <a href="https://fldtheory.org">fldtheory.org</a>
            </div>
            
            <div class="footer-contact">
                <button onclick="showPage('contact')">Contact</button>
            </div>
        </div>
    </footer>

    <script>
        // Enhanced User Progress System with Journey Tracking
        let userProgress = {
            level: 1,
            xp: 0,
            streak: 0,
            lastVisit: null,
            completedPathways: [],
            achievements: [],
            translationsCompleted: 0,
            journeySteps: {
                'cosmic-divide': false,
                'language-paradox': false,
                'translator': false,
                'academy': false
            },
            currentTrailStep: 0,
            userType: null
        };

        // Trail step tracking
        function updateBreadcrumb() {
            const breadcrumb = document.getElementById('navBreadcrumb');
            const steps = breadcrumb.querySelectorAll('.breadcrumb-step');
            
            steps.forEach((step, index) => {
                step.classList.remove('completed', 'current', 'upcoming');
                
                if (index < userProgress.currentTrailStep) {
                    step.classList.add('completed');
                } else if (index === userProgress.currentTrailStep) {
                    step.classList.add('current');
                } else {
                    step.classList.add('upcoming');
                }
            });
        }

        // Show breadcrumb when user is on trail
        function showBreadcrumbIfOnTrail(pageId) {
            const trailPages = ['cosmic-divide', 'language-paradox', 'translator', 'academy'];
            const breadcrumb = document.getElementById('navBreadcrumb');
            
            if (trailPages.includes(pageId)) {
                breadcrumb.classList.add('active');
                userProgress.currentTrailStep = trailPages.indexOf(pageId);
                updateBreadcrumb();
            } else {
                breadcrumb.classList.remove('active');
            }
        }

        // Trail step functions for different user types
        function showTrailStep(userType) {
            userProgress.userType = userType;
            saveUserProgress();
            
            // Award XP for identifying user type
            awardXP(15, `Identified as ${userType}`);
            
            // Customized trail based on user type
            switch(userType) {
                case 'physicist':
                    showTrailNotification("Perfect! Let's start with the physics that will blow your mind...");
                    setTimeout(() => showPage('cosmic-divide'), 2000);
                    break;
                case 'thinker':
                    showTrailNotification("Excellent! Prepare to have your reality gently turned inside out...");
                    setTimeout(() => showPage('language-paradox'), 2000);
                    break;
                case 'practical':
                    showTrailNotification("Smart choice! Let's see some immediate practical applications...");
                    setTimeout(() => showPage('translator'), 2000);
                    break;
                case 'curious':
                    showTrailNotification("Curiosity is the best compass! Starting with the cosmic mystery...");
                    setTimeout(() => showPage('cosmic-divide'), 2000);
                    break;
            }
        }

        // Show trail notification
        function showTrailNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, rgba(74, 158, 255, 0.9), rgba(255, 215, 0, 0.9));
                color: #000;
                padding: 2rem 3rem;
                border-radius: 15px;
                font-size: 1.3rem;
                font-weight: bold;
                z-index: 10000;
                text-align: center;
                box-shadow: 0 0 30px rgba(74, 158, 255, 0.6);
                max-width: 500px;
                line-height: 1.5;
            `;
            notification.innerHTML = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translate(-50%, -50%) scale(0.8)';
                notification.style.transition = 'all 0.5s ease';
                setTimeout(() => notification.remove(), 500);
            }, 1800);
        }

        // Enhanced page navigation with journey tracking
        function showPage(pageId) {
            // Track journey progress
            if (userProgress.journeySteps.hasOwnProperty(pageId)) {
                if (!userProgress.journeySteps[pageId]) {
                    userProgress.journeySteps[pageId] = true;
                    
                    // Award XP for first-time page visits in the journey
                    const xpRewards = {
                        'cosmic-divide': 25,
                        'language-paradox': 30,
                        'translator': 35,
                        'academy': 50
                    };
                    
                    awardXP(xpRewards[pageId] || 10, `Discovered ${pageId.replace('-', ' ')}`);
                    
                    // Show encouraging messages
                    const encouragements = {
                        'cosmic-divide': "üåå You've entered the cosmic mystery! Ready to see how language creates physics 'problems'?",
                        'language-paradox': "üîç Now you're seeing the matrix! Notice how language shapes reality perception.",
                        'translator': "‚ö° Time to get hands-on! Experience the transformation yourself.",
                        'academy': "üéì Welcome to mastery! You're ready to transform how you think and communicate."
                    };
                    
                    if (encouragements[pageId]) {
                        setTimeout(() => {
                            showTrailNotification(encouragements[pageId]);
                        }, 1000);
                    }
                }
            }
            
            // Show breadcrumb navigation
            showBreadcrumbIfOnTrail(pageId);
            
            // Regular page navigation
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            document.querySelectorAll('.nav-btn').forEach(button => {
                button.classList.remove('active');
            });
            const activeButton = document.querySelector(`[data-page="${pageId}"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            updatePageDisplay(pageId);
            
            saveUserProgress();
        }

        // Check if user has completed the discovery trail
        function checkTrailCompletion() {
            const requiredSteps = ['cosmic-divide', 'language-paradox', 'translator'];
            const completed = requiredSteps.every(step => userProgress.journeySteps[step]);
            
            if (completed && !userProgress.achievements.includes('trail-explorer')) {
                userProgress.achievements.push('trail-explorer');
                showAchievementUnlocked('Trail Explorer', 'üó∫Ô∏è');
                
                // Suggest academy if they haven't been there yet
                if (!userProgress.journeySteps['academy']) {
                    setTimeout(() => {
                        const suggestion = confirm("üéâ You've explored the discovery trail! Ready to master these concepts in the Process Language Academy?");
                        if (suggestion) {
                            showPage('academy');
                        }
                    }, 2000);
                }
            }
        }

        // Enhanced trail step animations
        function animateTrailStep(stepElement) {
            stepElement.style.transform = 'scale(0.95)';
            stepElement.style.transition = 'all 0.2s ease';
            
            setTimeout(() => {
                stepElement.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    stepElement.style.transform = 'scale(1)';
                }, 150);
            }, 100);
        }

        // Add click handlers for trail steps
        document.addEventListener('DOMContentLoaded', function() {
            const trailSteps = document.querySelectorAll('.trail-step');
            trailSteps.forEach(step => {
                step.addEventListener('click', function() {
                    animateTrailStep(this);
                });
            });
            
            // Check trail completion when any page loads
            setTimeout(checkTrailCompletion, 1000);
        });

        // Load user progress from localStorage
        function loadUserProgress() {
            const saved = localStorage.getItem('processAcademyProgress');
            if (saved) {
                userProgress = { ...userProgress, ...JSON.parse(saved) };
            }
            updateProgressDisplay();
        }

        // Save user progress to localStorage
        function saveUserProgress() {
            localStorage.setItem('processAcademyProgress', JSON.stringify(userProgress));
        }

        // Update progress display
        function updateProgressDisplay() {
            document.getElementById('userLevel').textContent = userProgress.level;
            document.getElementById('userXP').textContent = userProgress.xp;
            document.getElementById('userStreak').textContent = userProgress.streak;
            
            // Show progress indicator only if user has started learning
            if (userProgress.xp > 0) {
                document.getElementById('userProgress').classList.add('active');
            }
        }

        // Award XP and check for level up
        function awardXP(amount, reason = '') {
            userProgress.xp += amount;
            
            // Level up logic
            const xpForNextLevel = userProgress.level * 100;
            if (userProgress.xp >= xpForNextLevel) {
                userProgress.level++;
                userProgress.xp = 0;
                showLevelUpNotification();
            }
            
            saveUserProgress();
            updateProgressDisplay();
        }

        // Show level up notification
        function showLevelUpNotification() {
            // Create temporary notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #ffd700, #ff8c00);
                color: #000;
                padding: 2rem;
                border-radius: 15px;
                font-size: 1.5rem;
                font-weight: bold;
                z-index: 10000;
                text-align: center;
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
            `;
            notification.innerHTML = `üéâ LEVEL UP! üéâ<br>You are now Level ${userProgress.level}!`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Enhanced translator with intensity levels and metrics
        const translatorMaps = {
            gentle: {
                "is": "appears as",
                "are": "seem to be",
                "was": "emerged as",
                "were": "appeared as"
            },
            moderate: {
                "is": "emerges as",
                "are": "manifest as", 
                "was": "arose as",
                "were": "interacted as",
                "be": "transform into",
                "being": "continuing through",
                "been": "cohered as",
                
                // Infinitive to gerund transformations
                "to learn": "learning",
                "to share": "sharing",
                "to discover": "discovering",
                "to explore": "exploring",
                "to understand": "understanding",
                "to create": "creating",
                "to develop": "developing",
                "to investigate": "investigating",
                "to research": "researching",
                "to study": "studying",
                "to analyze": "analyzing",
                "to observe": "observing",
                "to measure": "measuring",
                "to calculate": "calculating",
                "to solve": "solving",
                "to build": "building",
                "to design": "designing",
                "to implement": "implementing",
                "to process": "processing",
                "to transform": "transforming",
                "to evolve": "evolving",
                "to emerge": "emerging",
                "to interact": "interacting",
                
                // Physics objects ‚Üí processes
                "particle": "field excitation",
                "particles": "field excitations",
                "wave": "propagating disturbance",
                "waves": "propagating disturbances",
                "electron": "electronic excitation",
                "electrons": "electronic excitations",
                "photon": "electromagnetic excitation",
                "photons": "electromagnetic excitations",
                
                // Enhanced process patterns
                "the purpose": "purposing",
                "the goal": "goal-seeking",
                "the solution": "solution-emerging",
                "the result": "result-manifesting"
            },
            strong: {
                // All moderate transformations plus more aggressive ones
                "is": "manifests through ongoing processes as",
                "are": "continuously emerge as",
                "was": "emerged through dynamic processes as",
                "were": "interacted through complex patterns as",
                
                // Add all moderate transformations
                ...{}, // Would include all moderate transformations
                
                // More aggressive transformations
                "exists": "continuously manifests through",
                "exist": "continuously manifest through",
                "has": "engages in relationship with",
                "have": "engage in relationship with"
            }
        };

        let currentIntensity = 'moderate';

        // Enhanced translation function with journey integration
        function translateText() {
            const inputElement = document.getElementById('inputText');
            const outputElement = document.getElementById('outputText');
            const outputSection = document.getElementById('outputSection');
            
            if (!inputElement || !outputElement || !outputSection) {
                console.error('Translator elements not found');
                return;
            }
            
            let text = inputElement.value;
            if (!text.trim()) {
                alert('Please enter some text to translate.');
                return;
            }
            
            try {
                const translatorMap = translatorMaps[currentIntensity];
                const originalWordCount = text.split(/\s+/).length;
                let staticWordsFound = 0;
                
                // Enhanced translation with two-pass processing
                const phrases = Object.keys(translatorMap).filter(key => key.includes(' '));
                phrases.sort((a, b) => b.length - a.length);
                
                phrases.forEach(phrase => {
                    const regex = new RegExp('\\b' + phrase.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '\\b', 'gi');
                    const matches = text.match(regex);
                    if (matches) staticWordsFound += matches.length;
                    text = text.replace(regex, translatorMap[phrase]);
                });
                
                const words = Object.keys(translatorMap).filter(key => !key.includes(' '));
                const pattern = new RegExp('\\b(' + words.join('|') + ')\\b', 'gi');
                
                text = text.replace(pattern, function(match) {
                    staticWordsFound++;
                    return translatorMap[match.toLowerCase()] || match;
                });
                
                outputElement.textContent = text;
                outputSection.classList.remove('hidden');
                
                // Calculate and display metrics (simplified, no percentages)
                const newWordCount = text.split(/\s+/).length;
                const processWordsAdded = newWordCount - originalWordCount;
                
                document.getElementById('staticReduction').textContent = `-${staticWordsFound}`;
                document.getElementById('processIncrease').textContent = `+${processWordsAdded}`;
                document.getElementById('dynamicShift').textContent = processWordsAdded > 0 ? '‚úì' : '‚óã';
                
                // Award XP for translation
                awardXP(10, 'Translation completed');
                userProgress.translationsCompleted++;
                
                // First translation achievement
                if (userProgress.translationsCompleted === 1 && !userProgress.achievements.includes('first-transformation')) {
                    userProgress.achievements.push('first-transformation');
                    showAchievementUnlocked('First Transformation', 'üåü');
                    
                    // Suggest academy after first translation
                    setTimeout(() => {
                        showTrailNotification("üéâ You've experienced the power of process language! Ready to dive deeper in the Academy?");
                        setTimeout(() => {
                            const suggestion = confirm("Continue your journey in the Process Language Academy?");
                            if (suggestion) {
                                showPage('academy');
                            }
                        }, 3000);
                    }, 2000);
                }
                
                checkAchievements();
                checkTrailCompletion();
                
            } catch (error) {
                console.error('Translation error:', error);
                outputElement.textContent = 'Error processing text. Please try again.';
                outputSection.classList.remove('hidden');
            }
        }

        // Intensity selector handlers
        document.addEventListener('DOMContentLoaded', function() {
            const intensityBtns = document.querySelectorAll('.intensity-btn[data-level]');
            intensityBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    intensityBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentIntensity = this.dataset.level;
                });
            });
        });

        // Academy pathway functions
        function showPathway(type) {
            showPage('academy');
            // Scroll to pathway selector
            setTimeout(() => {
                document.getElementById('pathwaySelector').scrollIntoView({ behavior: 'smooth' });
            }, 300);
        }

        function startPathway(pathwayId) {
            awardXP(25, `Started ${pathwayId} pathway`);
            
            // Simulate pathway starting
            alert(`Starting ${pathwayId} pathway! This is where the structured learning content would begin.`);
            
            // For demo, immediately show some progress
            setTimeout(() => {
                showProgressDashboard();
            }, 1000);
        }

        function showPathways() {
            document.getElementById('pathwaySelector').style.display = 'block';
            document.getElementById('progressVisualization').style.display = 'none';
            document.getElementById('achievementShowcase').style.display = 'none';
        }

        function showProgressDashboard() {
            document.getElementById('pathwaySelector').style.display = 'none';
            document.getElementById('progressVisualization').style.display = 'block';
            document.getElementById('achievementShowcase').style.display = 'block';
        }

        function showCommunity() {
            alert('Community features coming soon! Connect with other process language learners, share translations, and collaborate on challenging texts.');
        }

        // Skill interaction functions
        function reviewSkill(skillId) {
            alert(`Reviewing ${skillId} skill. You've mastered identifying static language patterns!`);
        }

        function learnSkill(skillId) {
            awardXP(50, `Learning ${skillId} skill`);
            alert(`Learning ${skillId}! This advanced module teaches sophisticated process transformations.`);
        }

        function unlockSkill(skillId) {
            alert(`${skillId} skill locked. Complete the Process Transformer skill first!`);
        }

        // Achievement system
        function checkAchievements() {
            // Week Warrior
            if (userProgress.streak >= 7 && !userProgress.achievements.includes('week-warrior')) {
                userProgress.achievements.push('week-warrior');
                showAchievementUnlocked('Week Warrior', 'üî•');
            }
            
            // Precision Master
            if (userProgress.translationsCompleted >= 20 && !userProgress.achievements.includes('precision-master')) {
                userProgress.achievements.push('precision-master');
                showAchievementUnlocked('Precision Master', 'üéØ');
            }
            
            saveUserProgress();
        }

        function showAchievementUnlocked(name, icon) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #ffd700, #ff8c00);
                color: #000;
                padding: 1rem 2rem;
                border-radius: 10px;
                font-weight: bold;
                z-index: 10000;
                box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
                animation: slideIn 0.5s ease-out;
            `;
            notification.innerHTML = `${icon} Achievement Unlocked: ${name}!`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        // Create stars animation
        function createStars() {
            const starsContainer = document.getElementById('stars');
            if (!starsContainer) return;
            
            const numStars = 150;
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                const size = Math.random() * 2 + 0.5;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.opacity = Math.random() * 0.3 + 0.1;
                starsContainer.appendChild(star);
            }
        }

        // Page navigation (enhanced)
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            document.querySelectorAll('.nav-btn').forEach(button => {
                button.classList.remove('active');
            });
            const activeButton = document.querySelector(`[data-page="${pageId}"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            updatePageDisplay(pageId);
            
            // Award XP for page visits (small amount)
            if (pageId === 'academy') {
                awardXP(5, 'Visited Academy');
            }
        }

        // View counter with error handling
        function initViewCounter() {
            try {
                let totalViews = localStorage.getItem('totalViews') || '0';
                totalViews = parseInt(totalViews) + 1;
                localStorage.setItem('totalViews', totalViews.toString());
                
                const totalElement = document.getElementById('totalViews');
                if (totalElement) {
                    totalElement.textContent = `Total: ${totalViews.toLocaleString()}`;
                }
                
                let visitorId = sessionStorage.getItem('visitorId');
                if (!visitorId) {
                    visitorId = 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    sessionStorage.setItem('visitorId', visitorId);
                    
                    let uniqueVisitors = localStorage.getItem('uniqueVisitors') || '0';
                    uniqueVisitors = parseInt(uniqueVisitors) + 1;
                    localStorage.setItem('uniqueVisitors', uniqueVisitors.toString());
                }
                
                let uniqueVisitors = localStorage.getItem('uniqueVisitors') || '0';
                const uniqueElement = document.getElementById('uniqueVisitors');
                if (uniqueElement) {
                    uniqueElement.textContent = `Unique: ${parseInt(uniqueVisitors).toLocaleString()}`;
                }
            } catch (error) {
                console.log('Storage not available:', error);
                const totalElement = document.getElementById('totalViews');
                const uniqueElement = document.getElementById('uniqueVisitors');
                if (totalElement) totalElement.textContent = 'Total: --';
                if (uniqueElement) uniqueElement.textContent = 'Unique: --';
            }
        }

        function updatePageDisplay(pageName) {
            const pageElement = document.getElementById('currentPage');
            if (pageElement) {
                const displayName = pageName.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                pageElement.textContent = `Page: ${displayName}`;
            }
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            try {
                createStars();
                initViewCounter();
                loadUserProgress();
                
                // Navigation button handlers
                document.querySelectorAll('.nav-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const page = this.getAttribute('data-page');
                        if (page) {
                            showPage(page);
                        }
                    });
                });

                // Translator button handler
                const translateBtn = document.getElementById('translateBtn');
                if (translateBtn) {
                    translateBtn.addEventListener('click', translateText);
                }
                
            } catch (error) {
                console.error('Initialization error:', error);
            }
        });

        // Update streak on page load (simplified for demo)
        window.addEventListener('load', function() {
            const today = new Date().toDateString();
            const lastVisit = localStorage.getItem('lastVisit');
            
            if (lastVisit !== today) {
                if (lastVisit && new Date(today) - new Date(lastVisit) === 86400000) {
                    userProgress.streak++;
                } else if (!lastVisit) {
                    userProgress.streak = 1;
                } else {
                    userProgress.streak = 1;
                }
                
                localStorage.setItem('lastVisit', today);
                saveUserProgress();
                updateProgressDisplay();
            }
        });
    </script>
</body>
</html>
